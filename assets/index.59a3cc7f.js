import{p as t,a as e,u as a,c as s,o as n,b as r,d as o,w as i,v as c,e as l,f as u,r as d,g as p,h,S as g,H as k,I as m,D as v,A as S,P as b,F as y,i as C,j as f,V as x,k as w,t as L,l as D,m as T,n as O,q as P,s as R,x as A,y as G,z as I}from"./vendor.b622b277.js";const M={setup(){const t=a();return{stock:s((()=>t.state.stock)),historicalPrices:s((()=>t.state.historicalPrices)),isLoading:s((()=>t.state.isLoading)),changeCurrentStock:e=>t.dispatch("changeCurrentStock",e)}},data:()=>({ticker:"MSFT"}),created(){this.changeCurrentStock(this.ticker)}},E=u();t("data-v-5010f467");const F={class:"content-input"},H=o("label",{for:"stockTicker"},"Ticker: ",-1),_=o("br",null,null,-1);e();const U=E(((t,e,a,s,u,d)=>(n(),r("div",F,[o("form",{action:"",onSubmit:e[3]||(e[3]=l((t=>s.changeCurrentStock(u.ticker)),["prevent"]))},[H,i(o("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.ticker=t),placeholder:"Ticker",style:{"text-transform":"uppercase"},id:"stockTicker"},null,512),[[c,u.ticker]]),_,o("button",{onClick:e[2]||(e[2]=t=>s.changeCurrentStock(u.ticker))},"Get Data")],32)]))));M.render=U,M.__scopeId="data-v-5010f467";const N={id:"app"},V={expose:[],setup:t=>(t,e)=>{const a=d("router-view");return n(),r("div",N,[o(M),o(a)])}};let W;const $={},z={setup(){const t=a();return{isLoading:s((()=>t.state.isLoading))}}},B={key:0,class:"loading-screen"},j=o("p",null,[h(" Loading "),o("span",{class:"point-anim point-1"},"."),o("span",{class:"point-anim point-2"},"."),o("span",{class:"point-anim point-3"},".")],-1);z.render=function(t,e,a,s,o,i){return s.isLoading?(n(),r("div",B,[j])):p("",!0)};g(k),m(k),v(k),S(k),b(k),y(k),C(k),f(k);const q={name:"StockChart",components:{VueHighcharts:x},setup(){const t=a();var e=w(s((()=>t.getters.candlestick))),n=w(s((()=>t.getters.volumeDate))),r=w(s((()=>t.state.stock.longName)));return{stockChartOptions:s((()=>({title:{text:r.value,align:"center"},navigation:{bindingsClassName:"stockChart"},stockTools:{gui:{enabled:!0}},yAxis:[{labels:{align:"left"},height:"90%",resize:{enabled:!0}},{labels:{align:"left"},top:"90%",height:"10%",offset:0}],chart:{height:"61%",events:{load:function(){var t=this.series[0],e=this.xAxis[0],a=t.xData[t.xData.length-61],s=t.xData[t.xData.length];e.setExtremes(a,s),window.screen.width>600&&this.stockTools.showhideBtn.click()}}},tooltip:{shape:"square",headerShape:"callout",borderWidth:0,shadow:!1,positioner:function(t,e,a){var s=this.chart;return a.isHeader?{x:Math.max(s.plotLeft,Math.min(a.plotX+s.plotLeft-t/2,s.chartWidth-t-s.marginRight)),y:a.plotY}:{x:a.series.chart.plotLeft,y:a.series.yAxis.top-s.plotTop}}},series:[{type:"candlestick",id:r.value,name:r.value,data:e.value},{type:"column",id:"stock-volume",name:"Volume",data:n.value,yAxis:1}],plotOptions:{candlestick:{dataGrouping:!1,color:"black",upColor:"white"},series:{color:"#598392"}},responsive:{rules:[{condition:{maxWidth:600},chartOptions:{title:{align:"center"},stockTools:{gui:{enabled:!1}},chart:{height:"161%"}}}]}}))),onUpdate:()=>{console.log("Chart updated")},updateData:t=>{e.value=t}}},computed:{graphData(){return this.$store.getters.candlestick}},created(){this.stockChartOptions.title.text=this.$store.state.stock.longName}},X={class:"stock-chart-container"};q.render=function(t,e,a,s,i,c){const l=d("vue-highcharts");return n(),r("div",X,[o(l,{type:"stockChart",options:s.stockChartOptions,redrawOnUpdate:!0,oneToOneUpdate:!1,animateOnUpdate:!0,ref:"stockChart",onUpdated:s.onUpdate,class:"stockChart",style:{"max-width":"1300px",width:"95vw"}},null,8,["options","onUpdated"])])};const Y={setup(){const t=a();return{isLoading:s((()=>t.state.isLoading))}},computed:{stockInfo(){return this.$store.state.stock},stockPrices(){return this.$store.state.historicalPrices},returnStats(){return this.$store.state.returnStats}}},J=u();t("data-v-5735e616");const K={class:"tables"},Q={class:"stock-table"},Z={colspan:"6"},tt=o("tr",null,[o("td",null,"Date"),o("td",null,"Open"),o("td",null,"High"),o("td",null,"Low"),o("td",null,"Close"),o("td",null,"Return")],-1),et=o("thead",null,[o("th",{colspan:"2"},"Return Satistics")],-1);e();const at=J(((t,e,a,s,i,c)=>(n(),r("div",K,[o("table",Q,[o("thead",null,[o("th",Z,L(c.stockInfo.shortName),1),tt]),o("tbody",null,[(n(!0),r(D,null,T(c.stockPrices.slice(-5),(t=>(n(),r("tr",{key:t},[o("td",null,L(new Date(t.Date).toLocaleDateString("fr-FR")),1),o("td",null,L(t.Open),1),o("td",null,L(t.High),1),o("td",null,L(t.Low),1),o("td",null,L(t.Close),1),o("td",null,L(Math.round(1e4*t.return)/100)+"%",1)])))),128))])]),o("table",null,[et,o("tbody",null,[(n(!0),r(D,null,T(c.returnStats,((t,e)=>(n(),r("tr",{key:e},[o("td",null,L(e),1),o("td",null,L(Math.round(1e4*t)/100)+"%",1)])))),128))])])]))));Y.render=at,Y.__scopeId="data-v-5735e616";O(k);const st={name:"ReturnChart",components:{VueHighcharts:x},setup(){const t=a();var e=w(s((()=>t.getters.returnsList))).value,n=w(s((()=>t.getters.trueRangeList))).value;return{returnChartOptions:s((()=>({title:{text:"Intraday Returns Distribution"},navigation:{bindingsClassName:"returnChart"},xAxis:[{alignTicks:!1},{title:{text:"Daily Return"},alignTicks:!1,opposite:!1}],yAxis:[{title:{text:""}},{title:{text:"Count"},opposite:!1}],plotOptions:{histogram:{binsNumber:15},series:{color:"#598392"}},stockTools:{gui:{enabled:!1}},series:[{type:"histogram",name:"Histogram",xAxis:1,yAxis:1,baseSeries:"s1",showInLegend:!1,zIndex:-1},{data:e,type:"scatter",id:"s1",showInLegend:!1,visible:!1}]}))),rangeChartOptions:s((()=>({title:{text:"True Range Distribution"},navigation:{bindingsClassName:"trueRangeDistribChart"},stockTools:{gui:{enabled:!1}},xAxis:[{alignTicks:!1},{title:{text:"Daily True Range"},alignTicks:!1,opposite:!1}],yAxis:[{title:{text:""}},{title:{text:"Count"},opposite:!1}],plotOptions:{histogram:{binsNumber:15},series:{color:"#598392"}},series:[{type:"histogram",name:"Histogram",xAxis:1,yAxis:1,baseSeries:"s2",showInLegend:!1,zIndex:-1},{data:n,type:"scatter",id:"s2",showInLegend:!1,visible:!1}]})))}}},nt=u();t("data-v-385fc50f");const rt={class:"stats-charts-container"};e();const ot=nt(((t,e,a,s,i,c)=>{const l=d("vue-highcharts");return n(),r("div",rt,[o(l,{type:"chart",options:s.returnChartOptions,ref:"returnChart",style:{"max-width":"370px",width:"90vw"},class:"returnDistribChart"},null,8,["options"]),o(l,{type:"chart",options:s.rangeChartOptions,ref:"rangeChart",style:{"max-width":"400px",width:"90vw"},class:"trueRangeDistribChart"},null,8,["options"])])}));st.render=ot,st.__scopeId="data-v-385fc50f";const it={setup(){},computed:{gapStats(){return this.$store.state.gapStats}}},ct={class:"gaps-tables-container"},lt=o("thead",null,[o("th",{colspan:"3"},"Gaps Satistics"),o("tr",null,[o("td"),o("td",null,"Up Gap"),o("td",null,"Down Gap")])],-1),ut=o("td",null,"Occurence",-1),dt=o("td",null,"Intraday Filled",-1),pt=o("th",{colspan:"7"},"Gapping Day Return Statistics",-1),ht=o("td",null,null,-1),gt=o("td",null,"Up Gap",-1),kt=o("td",null,"Down Gap",-1);it.render=function(t,e,a,s,i,c){return n(),r("div",ct,[o("table",null,[lt,o("tbody",null,[o("tr",null,[ut,o("td",null,L(Math.round(1e4*c.gapStats.upGap.occurence)/100)+"%",1),o("td",null,L(Math.round(1e4*c.gapStats.downGap.occurence)/100)+"%",1)]),o("tr",null,[dt,o("td",null,L(Math.round(1e4*c.gapStats.upGap.percentFilled)/100)+"%",1),o("td",null,L(Math.round(1e4*c.gapStats.downGap.percentFilled)/100)+"%",1)])])]),o("table",null,[o("thead",null,[pt,o("tr",null,[ht,(n(!0),r(D,null,T(c.gapStats.upGap.dayReturnStats,((t,e)=>(n(),r("td",{key:e},L(e),1)))),128))])]),o("tbody",null,[o("tr",null,[gt,(n(!0),r(D,null,T(c.gapStats.upGap.dayReturnStats,((t,e)=>(n(),r("td",{key:e},L(Math.round(1e4*t)/100)+"%",1)))),128))]),o("tr",null,[kt,(n(!0),r(D,null,T(c.gapStats.downGap.dayReturnStats,((t,e)=>(n(),r("td",{key:e},L(Math.round(1e4*t)/100)+"%",1)))),128))])])])])};const mt={name:"WelcomeBand",setup(){}},vt={class:"welcome-band"},St=o("h1",null,"Welcome to Stock.io",-1);mt.render=function(t,e,a,s,o,i){return n(),r("div",vt,[St])};const bt={components:{LoadingScreen:z,StockChart:q,StockTable:Y,ReturnChart:st,GapsTables:it,WelcomeBand:mt},data:()=>({ticker:"MSFT"}),setup(){const t=a();return{stock:s((()=>t.state.stock)),historicalPrices:s((()=>t.state.historicalPrices)),isLoading:s((()=>t.state.isLoading)),changeCurrentStock:e=>t.dispatch("changeCurrentStock",e)}},created(){this.changeCurrentStock("msft")}},yt={class:"content"},Ct={key:0,class:"data-content"},ft={class:"second-row"},xt={class:"table-container"};bt.render=function(t,e,a,s,i,c){const l=d("loading-screen"),u=d("stock-chart"),h=d("stock-table"),g=d("gaps-tables"),k=d("return-chart");return n(),r("div",yt,[o(l),s.isLoading?p("",!0):(n(),r("div",Ct,[o("div",ft,[o(u,{class:"chart-container"}),o("div",xt,[o(h)]),o(g),o(k,{class:"card-contouring"})])]))])};const wt={name:"Stocks",components:{LoadingScreen:z,StockChart:q,StockTable:Y,ReturnChart:st,GapsTables:it,WelcomeBand:mt},data:()=>({ticker:"MSFT"}),setup(){const t=a();return{stock:s((()=>t.state.stock)),historicalPrices:s((()=>t.state.historicalPrices)),isLoading:s((()=>t.state.isLoading)),changeCurrentStock:e=>t.dispatch("changeCurrentStock",e)}},created(){this.changeCurrentStock("msft")}},Lt={class:"content"},Dt={key:0,class:"data-content"},Tt={class:"second-row"},Ot={class:"table-container"};wt.render=function(t,e,a,s,i,c){const l=d("loading-screen"),u=d("welcome-band"),h=d("stock-chart"),g=d("stock-table"),k=d("gaps-tables"),m=d("return-chart");return n(),r("div",Lt,[o(l),s.isLoading?p("",!0):(n(),r("div",Dt,[o(u),o("div",Tt,[o(h,{class:"chart-container"}),o("div",Ot,[o(g)]),o(k),o(m,{class:"card-contouring"})])]))])};const Pt=[{path:"/",name:"Home",component:bt},{path:"/about",name:"About",component:()=>function(t,e){if(!e)return t();if(void 0===W){const t=document.createElement("link").relList;W=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in $)return;$[t]=!0;const e=t.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":W,e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e?new Promise(((t,e)=>{s.addEventListener("load",t),s.addEventListener("error",e)})):void 0}))).then((()=>t()))}((()=>import("./About.0cfe17b1.js")),["/assets/About.0cfe17b1.js","/assets/vendor.b622b277.js"])},{path:"/stocks",name:"Stocks",component:wt}],Rt=P({history:R(),routes:Pt});var At=new A.Store({state:{ticker:"aapl",isLoading:!1,stock:{},historicalPrices:[],returnStats:{},gapStats:{},cachedData:{}},getters:{pricesForChart(t){var e=[];return t.historicalPrices.forEach((t=>{e.push([t.ts,t.Close])})),e},candlestick(t){var e=[];return t.historicalPrices.forEach((t=>{var a=[t.ts,t.Open,t.High,t.Low,t.Close,t.Volume];e.push(a)})),e},volumeDate(t){var e=[];return t.historicalPrices.forEach((t=>{var a=[t.ts,t.Volume];e.push(a)})),e},returnsList(t){var e=[];return t.historicalPrices.forEach((t=>{e.push(100*t.return)})),e},trueRangeList(t){var e=[];return t.historicalPrices.forEach((t=>{e.push(100*(t.High/t.Low-1))})),e}},mutations:{loading(t,e){t.isLoading=!!e},updateStock(t,e){t.stock=e.info,t.historicalPrices=e.prices,t.returnStats=e.returnStatistics,t.gapStats=e.gapStatistics},pushCachedStock(t,e){t.cachedData[e[0]]=e[1]}},actions:{async getDataFromApi(t,e){t.state.isLoading=!0,console.log(t.state.cachedData),await G.get("https://saulane.pythonanywhere.com/stocks/"+e,{params:{ticker:e}}).then((a=>{a.data.info.symbol?(t.commit("updateStock",a.data),t.commit("pushCachedStock",[e,a.data])):t.state.ticker="Ticker invalide",t.state.isLoading=!1})).catch((t=>{console.log(t)}))},changeCurrentStock(t,e){e in t.state.cachedData?t.commit("updateStock",t.state.cachedData[e]):(console.log(e),t.dispatch("getDataFromApi",e))}}});const Gt=I(V);Gt.use(Rt),Gt.use(At),Gt.mount("#app");
